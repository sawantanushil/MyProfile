(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6818],{69772:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/details/[mediaId]",function(){return r(40477)}])},40477:function(e,t,r){"use strict";r.r(t);var n=r(34051),i=r.n(n),o=r(85893),a=r(67294),c=r(19575),u=r(62286),s=r(9669),l=r.n(s),f=r(17563),d=r(45697),p=r.n(d),y=r(11163),m=r.n(y),b=r(76110),h=r(5748),v=r(81079),g=r(21544),_=r(57586),O=r(98999),j=r(3982),w=r(28282),S=r(19046);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t,r,n,i,o,a){try{var c=e[o](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,i)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){k(o,n,i,a,c,"next",e)}function c(e){k(o,n,i,a,c,"throw",e)}a(void 0)}))}}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){T(e,t,r[t])}))}return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(u){c=!0,i=u}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function P(e){var t=e.mediaId,r=e.pricing,n=e.media,s=e.objSEO,l=e.objSchema,f=e.topRibbonKw,d=(0,y.useRouter)().query,p=(0,a.useContext)(b.ko),v=(0,a.useState)(n),_=v[0],O=v[1],w=function(){var e=x(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.Z)(p.locale.lang,t,p.urlQuery);case 2:(r=e.sent)&&O(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e=d.mediaId.replace(".html","");e.endsWith("_")&&(e=e.replace(/_([^_]*)$/,"$1")),e.endsWith(t)&&n.detail_url&&m().replace("".concat(encodeURI(n.detail_url)))}),[]),(0,a.useEffect)((function(){document.body}),[]),(0,a.useEffect)((function(){O(n)}),[n]),(0,a.useEffect)((function(){if(0!==Object.keys(n).length){var e,t,r={id:n.media_id,type:n.file_type,is_plus:"1"===(null===d||void 0===d?void 0:d.is_plus)?1:0},i=(0,u.parseCookies)(),o=i.rvitems,a=[];o&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(o)?(e=JSON.parse(c.Base64.decode(i.rvitems)),(t=R(t=(e=Array.isArray(e)?e:[e]).filter((function(e){return e.id!==n.media_id}))).concat([r])).length>10&&t.shift(),a=c.Base64.encode(JSON.stringify(t))):a=c.Base64.encode(JSON.stringify([r]));var s=(new Date).getTime()/1e3+2592e3;(0,u.setCookie)(null,"rvitems",a,{maxAge:s,path:"/",domain:"123rf.com",secure:!0}),JSON.stringify(e)!==JSON.stringify(t)&&p.getRecentViewFromCookies()}}),[t]),(0,o.jsx)("div",{id:"content",style:{minWidth:"320px"},children:(0,o.jsx)(h.KU,{content:_,children:(0,o.jsx)(g.Z,{item:_,pricingInfo:r,objSEO:s,objSchema:l,topRibbonKw:f,mediaId:t,fetchImageDetails:w})})})}P.getInitialProps=function(){var e=x(i().mark((function e(t,r){var n,o,a,c,u,s,d,p,y,m,b,h,g,I,k,x,T,R,q,P,N,C,Z,K;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,o=t.req,!!t.req,a=n.mediaId.replace(".html",""),c=a.split("_"),u=c[1],s="details",delete(d=A({},n)).mediaId,p={},y={},m=[],b="",g=A({},d),I=(0,j.Z)(r.lang,u,g,t),k=(0,S.Z)(r.country.code,u,!1,t,{},!1),e.next=18,l().all([I,k]).then(l().spread((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=E(t,2),i=n[0],o=n[1];p=i,y=o})));case 18:if(x=p&&0===Object.keys(p).length&&p.constructor===Object,a.endsWith("_")&&(a=a.replace(/_([^_]*)$/,"$1")),b=x?"":p.detail_url.replace("/",""),T=b.normalize()===n.mediaId.normalize(),R=!x&&(0,v.ci)(_.aK,p.file_type),(q=!x&&((0,v.ci)(_.eR,p.file_type)&&"1"===(null===n||void 0===n?void 0:n.is_plus)))&&(h="1"==(null===n||void 0===n?void 0:n.origin)?5:6),(!x&&a.endsWith(u)&&!T||R)&&(P=f.stringify(d),t.res&&t.res.writeHead(301,{Location:"".concat(encodeURI(p.detail_url),"?").concat(P)}).end()),N=o?o.headers.referer:void 0,q||N&&(null===N||void 0===N?void 0:N.includes("123rf.com"))||(h=6),!N||!N.includes("google.com")){e.next=33;break}if(!p||0===Object.keys(p).length||![0,1,2,20,21,22,23].includes(p.file_type)){e.next=33;break}return e.next=32,(0,w.Z)(p.file_type,u,t);case 32:m=e.sent;case 33:if(0===Object.keys(p).length){e.next=39;break}return e.next=36,(0,O.Z)(p,t);case 36:e.t0=e.sent,e.next=40;break;case 39:e.t0={};case 40:return C=e.t0,Z=x?{}:(0,v.SJ)(r.lang,p),K={objDetailsPageSchema:Z},t.req&&t.res&&((0,v.gI)(t.req.headers["user-agent"])&&(t.req.headers["if-modified-since"]?t.res.statusCode=304:t.res.setHeader("last-modified","Mon, 12 September 2022 08:00:00 GMT")),x&&(t.res.statusCode=404)),e.abrupt("return",{media:p,pricing:y,objSEO:C,objSchema:K,query:n,pageType:s,urlQuery:d,mediaId:u,topRibbonKw:m,imageType:h});case 45:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),P.propTypes={locale:p().oneOfType([p().object]).isRequired,mediaId:p().string.isRequired,pricing:p().oneOfType([p().object]).isRequired,media:p().oneOfType([p().object]).isRequired,objSEO:p().oneOfType([p().object]).isRequired,objSchema:p().oneOfType([p().object]).isRequired,topRibbonKw:p().oneOfType([p().array]),imageType:p().number},P.defaultProps={topRibbonKw:[],imageType:null},t.default=P}},function(e){e.O(0,[5498,571,699,7527,1664,1650,9721,124,6494,3851,6958,5361,7943,5706,5733,2275,606,3230,4826,9748,5933,4195,9774,2888,179],(function(){return t=69772,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=[mediaId]-46a680aed9596e1f.js.map